import asyncio
import config

from aiogram import Router
router = Router()

from aiogram import Bot, Dispatcher, types, F
from aiogram.client.session.aiohttp import AiohttpSession
from aiogram.filters.command import Command
from aiogram.filters import CommandObject
from aiogram.enums.parse_mode import ParseMode
from aiogram.fsm.storage.memory import MemoryStorage

import logging
import random

import keyword
# from random_fox import fox

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
logging.basicConfig(level=logging.INFO)

# –û–±—ä–µ–∫—Ç –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä
# bot = Bot(token=config.token_api, parse_mode='HTML')
session = AiohttpSession(proxy="http://proxy.halykbank.nb:8080")
bot = Bot(token=config.token_api, session=session)
#bot = Bot(token = config.token_api)
dp = Dispatcher()

# –•—ç–Ω–¥–ª–µ—Ä –Ω–∞ –∫–æ–º–∞–Ω–¥—É /start
@dp.message(Command("start"))

async def cmd_start(message: types.Message):
    await message.answer(f'–ü—Ä–∏–≤–µ—Ç, {message.from_user.full_name}!')
    # await message.answer("–ü—Ä–∏–≤–µ—Ç üòä", reply_markup=keyword)

# –•—ç–Ω–¥–ª–µ—Ä –Ω–∞ –∫–æ–º–∞–Ω–¥—É /info
@dp.message(Command("info"))
async def cmd_info(message: types.Message):
    number = random.randint(1, 7)
    await message.answer('–Ø —Ç–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç')
    await message.answer('–¢–≤–æ—ë —á–∏—Å–ª–æ {number}')
    # print(message)
    # print(message.from_user.first_name)

# @dp.message(Command("stop"))
    

async def main():
    await dp.start_polling(bot)

if __name__ == '__main__':
    asyncio.run(main())